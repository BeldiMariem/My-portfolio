<section id="experience" class="experience-section">
  <div class="container">
    <h2 class="section-title"> Professional Experiences</h2>
    <p class="section-subtitle">My journey through innovative companies and challenging projects</p>

    <div class="timeline">
      <div 
        class="experience-card"
        *ngFor="let exp of experiences"
        (click)="open(exp)"
      >
        <div class="logo-container">
          <img class="logo" [src]="exp.logo" [alt]="exp.company + ' logo'" />
        </div>

        <div class="info">
          <h3 class="position">{{ exp.position }}</h3>
          <p class="company">{{ exp.company }}</p>
          <div class="meta-info">
            <span class="period">
              <i class="fas fa-calendar"></i>
              {{ exp.period }}
            </span>
            <span class="location">
              <i class="fas fa-map-marker-alt"></i>
              {{ exp.location }}
            </span>
          </div>
          <span class="type">{{ exp.type }}</span>
        </div>
        
        <div class="arrow">
          <i class="fas fa-chevron-right"></i>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="modal-overlay" *ngIf="selected" (click)="close()">
  <div class="modal" (click)="$event.stopPropagation()">
    <button class="close" (click)="close()">
      <i class="fas fa-times"></i>
    </button>

    <div class="modal-header">
      <div class="header-content">
        <div class="logo-title">
          <img [src]="selected!.logo" class="modal-logo" [alt]="selected!.company + ' logo'"/>
          <div>
            <h2>{{ selected!.position }}</h2>
            <p class="company">{{ selected!.company }}</p>
          </div>
        </div>
        <div class="header-meta">
          <span class="meta-item">
            <i class="fas fa-calendar"></i>
            {{ selected!.period }}
          </span>
          <span class="meta-item">
            <i class="fas fa-map-marker-alt"></i>
            {{ selected!.location }}
          </span>
          <span class="type-badge">{{ selected!.type }}</span>
        </div>
      </div>
    </div>

    <div class="modal-body">
      <p class="description">{{ selected!.description }}</p>

      <div *ngIf="selected!.projectContext" class="project-context">
        <h3>üìã Project Context</h3>
        <p>{{ selected!.projectContext }}</p>
      </div>

      <div class="section">
        <h3>üöÄ Key Achievements</h3>
        <ul class="achievements-list">
          <li *ngFor="let a of selected!.achievements">
            <i class="fas fa-check"></i>
            {{ a }}
          </li>
        </ul>
      </div>

      <div class="section">
        <h3>üõ†Ô∏è Technologies & Tools</h3>
        <div class="tech-stack">
          <span *ngFor="let tech of selected!.technologies" class="tech-tag">
            {{ tech }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>